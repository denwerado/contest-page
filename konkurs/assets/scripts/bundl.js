!function s(n,r,l){function o(t,e){if(!r[t]){if(!n[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}a=r[t]={exports:{}},n[t][0].call(a.exports,function(e){return o(n[t][1][e]||e)},a,a.exports,s,n,r,l)}return r[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)o(l[e]);return o}({1:[function(e,t,a){jQuery(document).ready(function(f){let l=new Object;async function _(e){let t=new XMLHttpRequest;t.open("GET",e),t.responseType="json",t.send(),t.onload=function(){(readJsonData=t.response).test&&s(readJsonData),readJsonData.results&&n(readJsonData)}}if(l.moodname="",l.prefixClass="",l.selectedDate="",l.windowHeight=window.innerHeight,f(window).resize(function(){l.windowHeight=window.innerHeight}),f(window).on("scroll",function(e){70<f(this).scrollTop()?f(".header").addClass("header_scrolled"):f(".header").removeClass("header_scrolled")}),70<f(window).scrollTop()&&f(".header").addClass("header_scrolled"),f(".header__burger")&&(f(".header__burger").on("click",()=>{f(".header__menu").toggleClass("header__menu_active"),f(".header__burger").toggleClass("header__burger_active")}),f(window).on("click",function(e){let t=f(e.target);t.closest(".header__burger").length||t.closest(".header__menu").length||(f(".header__menu").removeClass("header__menu_active"),f(".header__burger").removeClass("header__burger_active"))})),f('a[href*="#"]').on("click",function(e){let t=f(this);var a=t.attr("href").split("#")[1];let s=f('[name="'+a+'"]');f("html, body").stop().animate({scrollTop:s.offset().top-60},1e3)}),f('[data-modal*="#"]').on("click",function(e){let t=e.target,a=t.dataset.modal;for(;!a;)t=t.parentElement,a=t.dataset.modal;let s=f(a);s.addClass("cmp-popup_active"),f("html, body").css("overflow","hidden")}),f(document).on("click",".cmp-popup__close",function(e){let t=f(e.target).closest(".cmp-popup_active");t.removeClass("cmp-popup_active"),f("html, body").css("overflow","visible")}),f('.cmp-check__label input[type="checkbox"]').on("change",function(e){let t=f(e.target).closest("form").find("button");f(this).prop("checked")?t.prop("disabled",!1):t.prop("disabled",!0)}),f(".cmp-form__redirect .redirect").on("click",function(e){let t=f(e.target),a=t.closest(".cmp-form"),s=a.find(".cmp-form__toggle"),n=(s.each(function(e,t){let a=f(t);a.hasClass("cmp-form__toggle_disabled")?a.removeClass("cmp-form__toggle_disabled"):a.addClass("cmp-form__toggle_disabled")}),f(s).find(".cmp-form__elements")),r=n.find(".cmp-form__error");r.length&&r.remove()}),f("#registration_form").on("submit",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=new XMLHttpRequest;t.open("POST","/konkurs/includes/create_account.php",!0);let a=f(e.target).find(".cmp-form__elements"),s=a.find(".cmp-form__error");s.length&&s.remove(),t.onload=function(){200<=t.status&&t.status<400?("success"==(json=JSON.parse(this.response)).result&&(a.append("<p class='cmp-form__success'>Выполняется вход...</p>"),location.reload()),"exists"==json.result&&a.append("<p class='cmp-form__error'>Такой аккаунт уже существует!</p>"),"incompletedata"==json.result&&a.append("<p class='cmp-form__error'>Введены не все данные!</p>")):a.append("<p class='cmp-form__error'>Ошибка сервера, пожалуйста, свяжитесь с администратором сайта или повторите попытку позже</p>")},t.onerror=function(){a.append("<p class='cmp-form__error'>Ошибка хостинга, пожалуйста, свяжитесь с администратором сайта или повторите попытку позже</p>")},t.send(new FormData(e.target))}),f("#login_form").on("submit",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=new XMLHttpRequest;t.open("POST","/konkurs/includes/authentication.php",!0);let a=f(e.target).find(".cmp-form__elements"),s=a.find(".cmp-form__error");s.length&&s.remove(),t.onload=function(){200<=t.status&&t.status<400?("success"==(json=JSON.parse(this.response)).result&&(a.append("<p class='cmp-form__success'>Выполняется вход...</p>"),location.reload()),"error"==json.result&&a.append("<p class='cmp-form__error'>Неверный или логин или пароль!</p>")):a.append("<p class='cmp-form__error'>Ошибка сервера, пожалуйста, свяжитесь с администратором сайта или повторите попытку позже</p>")},t.onerror=function(){a.append("<p class='cmp-form__error'>Ошибка хостинга, пожалуйста, свяжитесь с администратором сайта или повторите попытку позже</p>")},t.send(new FormData(e.target))}),f("#review_form").on("submit",function(e){f(".cmp-loader").addClass("cmp-loader_active");e.preventDefault?e.preventDefault():e.returnValue=!1;var t=new XMLHttpRequest;t.open("POST","/konkurs/includes/add_feedback.php",!0);let a=f(e.target).find(".cmp-form__elements"),s=a.find(".cmp-form__error");s.length&&s.remove(),t.onload=function(){200<=t.status&&t.status<400?("success"==(json=JSON.parse(this.response)).result&&(a.find("textarea")[0].value="",a.append("<p class='cmp-form__success'>Спасибо за ваш отзыв! Он отправлен на модерацию.</p>")),"error"==json.result&&a.append("<p class='cmp-form__error'>Ошибка добавления отзыва! Пожалуйста, попробуйте позже или обратитесь в техподдержку.</p>")):a.append("<p class='cmp-form__error'>Ошибка добавления отзыва! Пожалуйста, попробуйте позже или обратитесь в техподдержку.</p>"),f(".cmp-loader").removeClass("cmp-loader_active")},t.onerror=function(){a.append("<p class='cmp-form__error'>Ошибка добавления отзыва! Пожалуйста, попробуйте позже или обратитесь в техподдержку.</p>"),f(".cmp-loader").removeClass("cmp-loader_active")},t.send(new FormData(e.target))}),f("#account_exit").on("click",()=>{var e=JSON.stringify({exit:"exit"});let t=new XMLHttpRequest;t.open("POST","/konkurs/includes/authentication.php",!0),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.send(e),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&"exit"==(result=JSON.parse(this.response)).result&&location.reload()}}),f("#main-test").length){let i={};function s(e){i.fullInfo=e,i.questionQuantity=Object.keys(i.fullInfo.test).length,i.intervalsQuantity=Object.keys(i.fullInfo.intervals).length;for(let e=0;e<i.intervalsQuantity;e++){var t="interval"+(e+1)+"Value";i[t]=0}v(i.questionNumber)}function n(t){var e=JSON.stringify({update:"updateTest"});let a=new XMLHttpRequest,r=(a.open("POST","/konkurs/includes/update_test_status.php",!0),a.setRequestHeader("Content-type","application/json; charset=utf-8"),a.send(e),a.onreadystatechange=function(){4==a.readyState&&a.status},f(".cmp-test")),s=r.closest(".cmp-popup"),n=s.find(".cmp-popup__smiles"),l=(n.css({display:"block"}),r.find(".cmp-test__question"));l.css({display:"none"});for(let e=0;e<i.intervalsQuantity;e++){var o="interval"+(e+1);let n="interval"+(e+1)+"Value";f.each(t.results[o],function(e,t){var a=Number(e.split("-")[0]),s=Number(e.split("-")[1]);(i[n]>=a&&i[n]<=s||11<=i[n]&&"11+"==e)&&r.append("<div class='cmp-test__result'>"+t+"</div>")})}f(".cmp-loader").removeClass("cmp-loader_active")}function v(e){let t=f("#main-test"),o=t.find(".cmp-test"),c=0;f.each(i.fullInfo.test,function(r,l){if(e==c){let e=o.find(".cmp-test__number"),t=(e.text("Вопрос "+(c+1)+":"),o.find(".cmp-test__title")),a=(t.text(r),o.find(".cmp-test__message")),s=(a.text("Варианты ответа"),o.find(".cmp-test__variants")),n=(s.empty(),0);f.each(l,function(e,t){s.append(`<li class="item">
                                                    <input name="question`+c+'" type="radio" id="variant'+n+'" value="'+t+`">
                                                    <label class="label" for="variant`+n+`">
                                                        <span class="text">`+e+`</span>
                                                        <div class="flag"></div>
                                                    </label>
                                                </li>`),n++})}c++})}i.questionNumber=0,_("/konkurs/assets/json/test.json"),f(".cmp-test__header .cmp-test__arrow").on("click",function(e){let t=f(e.target).closest(".cmp-test");e=function(e,a){let s=!0,n=new Array;for(radioInput in f.each(e,function(e,t){-1==a.indexOf(e)&&(t.value||f(t).attr("readonly")||"radio"==t.type||(s=!1),"radio"!=t.type||f(t).attr("disabled")||(t.checked?n[t.name]=!0:1!=n[t.name]&&(n[t.name]=!1)))}),n)n[radioInput]||(s=!1);return s}(t.find("input"),[-1]);let a=t.find(".cmp-test__message");if(a.removeClass("animate__animated"),a.removeClass("animate__heartBeat"),e){var e=t.find("input:checked"),s=Number(e[0].value);for(let t=0;t<i.intervalsQuantity;t++){var n="interval"+(t+1);let e=i.fullInfo.intervals[n];var n=Number(e.split("-")[0]),r=Number(e.split("-")[1]);i.questionNumber+1>=n&&i.questionNumber+1<=r&&(n="interval"+(t+1)+"Value",i[n]+=s)}i.questionNumber++,i.questionNumber<i.questionQuantity?v(i.questionNumber):(f(".cmp-loader").addClass("cmp-loader_active"),_("/konkurs/assets/json/test_result.json"))}else a.text("Пожалуйста, выберите вариант ответа!"),setTimeout(()=>{a.addClass("animate__animated"),a.addClass("animate__heartBeat")},150)}),f(".cmp-test").on("click",".cmp-test__toggle-switch",function(e){let t=f(e.target),a=t.closest(".cmp-test__result").find(".cmp-test__toggle");a.slideToggle(),t.remove()})}f.datepicker.regional.ru={closeText:"Закрыть",prevText:"Предыдущий",nextText:"Следующий",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Не",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},f.datepicker.setDefaults(f.datepicker.regional.ru);let o=new Object,c=new Object;var a=(new Date).getDate();let i=(new Date).getMonth(),p=(new Date).getFullYear(),r=new Date(p,i,a);function d(s){if(!o[s]){let e="",t="",a=!1;c[s]&&(e=c[s].class,t=e,a=!0),o[s]={moodname:"",oldClass:e,class:t,display:a}}var t="ui-td-active_"+l.prefixClass;o[s].display&&o[s].class==t||!l.prefixClass&&!l.moodname?(o[s].moodname="",o[s].oldClass=o[s].class,o[s].class="",o[s].display=!1):(o[s].moodname=l.moodname,o[s].class&&(o[s].oldClass=o[s].class),o[s].class=t,o[s].display=!0);{t=s;let e=f(".ui-state-active").closest("td");return e.removeClass(o[t].oldClass),o[t].display&&e.addClass(o[t].class),void setTimeout(()=>{let e=f(".cmp-calendar__panel-item_active");e.removeClass("cmp-calendar__panel-item_active")},500)}}function m(e){e=new String(e);return e=1==e.length?"0"+e:e}function u(e){var t=e.getFullYear(),a=m(e.getMonth()+1);return m(e.getDate())+"."+a+"."+t}f("#cmp-calendar-main").datepicker({minDate:new Date(p,0,1),onUpdateDatepicker:function(){f(".ui-state-disabled").empty()},onSelect:function(e){let t=f(".cmp-calendar__panel-popup");if("none"!=(cmpCalendarPanelPopupDisplay=t.css("display"))){if(l.selectedDate=e,!l.moodname&&!l.prefixClass){let e=t.find(".cmp-calendar__panel-item");e.addClass("animate__animated"),e.addClass("animate__bounce"),setTimeout(()=>{e.removeClass("animate__animated"),e.removeClass("animate__bounce")},1e3)}}else f("html, body").css("overflow","hidden"),f(".cmp-calendar").css("z-index","5"),t.css({display:"flex"}),l.selectedDate=e},beforeShowDay:function(e){var t=u(e);let a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s;return s=!!o[t]&&!!o[t].display,a.valueOf()<=r.valueOf()?s?[!0,o[t].class]:c[t]&&!o[t]?[!0,c[t].class]:[!0,""]:[!0,"ui-datepicker-unselectable"]}}),f(".cmp-calendar__panel-item").on("click",function(e){let t=f(e.target).closest(".cmp-calendar__panel-item");if(!t.hasClass(".cmp-calendar__panel-item_active")){let e=f(".cmp-calendar__panel-item_active");e.removeClass("cmp-calendar__panel-item_active"),t.addClass("cmp-calendar__panel-item_active"),l.moodname=t.attr("data-moodname"),l.prefixClass=t.attr("data-prefixclass")}l.selectedDate||(e=u(f("#cmp-calendar-main").datepicker("getDate")),l.selectedDate=e),d(l.selectedDate);let a=t.closest(".cmp-calendar__panel-popup");"flex"==(cmpCalendarPanelPopupDisplay=a.css("display"))&&(a.css({display:"none"}),f(".cmp-calendar").css("z-index",""),f("html, body").css("overflow","visible"))}),f("#calendar_result").on("click",function(){f(".cmp-loader").addClass("cmp-loader_active");let e=new Object;for(var t in o)e[t]={moodname:"",display:""},e[t].moodname=o[t].moodname,e[t].display=o[t].display;var a=JSON.stringify(e);let s=new XMLHttpRequest;s.open("POST","/konkurs/includes/update_calendar.php",!0),s.setRequestHeader("Content-type","application/json; charset=utf-8"),s.send(a),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var t=JSON.parse(this.response).result;if("unregistered"==t)console.log("Незарегестрированный пользователь");else{var o=t;f(".cmp-loader").removeClass("cmp-loader_active");let e=f("#results"),a=(e.addClass("cmp-popup_active"),f("html, body").css("overflow","hidden"),f("style")),s=(a.empty(),e.find(".cmp-segencircle").find("svg")),n=s.length,r=0,l=0;for(dateKey in o){l=0;let t=f(s[n-(r+1)]).find(".severity");var c=t.length;for(severity in t.css({opacity:0}),o[dateKey].severity){let e=f(t[c-severity]);e.css({opacity:1});var i=o[dateKey].severity[severity].percent,p=1e3*i-15+" 1000",d=360*l-90,d=(e.css({transform:"rotate( "+d+"deg)"}),"severity-keyframes-"+dateKey+severity),m="severity-class-"+dateKey+severity,u="."+m+" {animation: "+d+" 1s linear forwards;}",d="@keyframes "+d+" {0% {stroke-dasharray: 0 1000;}100% {stroke-dasharray: "+p+";}}";a.append(d),a.append(u),e.addClass(m),l+=i}r++}}}}}),f(".cmp-calendar__reset_day").on("click",function(e){let t=f(e.target);e=u(f("#cmp-calendar-main").datepicker("getDate"));l.moodname="",l.prefixClass="",(o[e]||c[e])&&d(e);let a=t.closest(".cmp-calendar__panel-popup");"flex"==(cmpCalendarPanelPopupDisplay=a.css("display"))&&(a.css({display:"none"}),f(".cmp-calendar").css("z-index",""),f("html, body").css("overflow","visible"))}),f(".cmp-calendar__reset_mounth").on("click",function(e){let t=f(e.target);l.moodname="",l.prefixClass="";e=new Date(p,i,1);let a=new Date(p,i+1,0),s=e;for(;s.valueOf()<=a.valueOf();){var n=u(s);(o[n]||c[n])&&d(n),s.setDate(s.getDate()+1)}f("#cmp-calendar-main").datepicker("refresh");let r=t.closest(".cmp-calendar__panel-popup");"flex"==(cmpCalendarPanelPopupDisplay=r.css("display"))&&(r.css({display:"none"}),f(".cmp-calendar").css("z-index",""),f("html, body").css("overflow","visible"))});{let s=new Object,e=f(".cmp-calendar__panel-item"),n,r,t=(e.each(function(e,t){let a=f(t);n=a.attr("data-moodname"),r=a.attr("data-prefixclass"),s[n]="ui-td-active_"+r}),a=JSON.stringify({request:"oldDates"}),new XMLHttpRequest);return t.open("POST","/konkurs/includes/show_calendar.php",!0),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.send(a),void(t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){let e=JSON.parse(this.response).result;"unregistered"!=e&&"error"!=e&&e.forEach(e=>{var t=Date.parse(e.date);let a=new Date(t);t=String(m(a.getDate()))+"."+String(m(a.getMonth()+1))+"."+String(a.getFullYear());c[t]={display:!0,class:s[e.mood]}}),f("#cmp-calendar-main").datepicker("refresh")}})}})},{}]},{},[1]);